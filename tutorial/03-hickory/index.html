<!doctype html>
<html>
  <head>
    <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon">
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Tutorial Part 3: Hickory | Curi Documentation</title>
    <link href="https://fonts.googleapis.com/css?family=Zilla+Slab:300,400" rel="stylesheet">
    <link href="/static/css/index.css" rel="stylesheet">
  </head>
  <body>
    <div id="root"><div data-reactroot=""><header><nav><ul><li><a class="home-link" href="/">Curi</a></li><li><a href="/packages">Packages</a></li><li><a class="active" href="/tutorial">Tutorial</a></li><li><a href="/guides">Guides</a></li><li><a href="/examples">Examples</a></li><li><a href="https://github.com/pshrmn/curi">GitHub</a></li></ul></nav></header><main><div class="tutorial"><div class="content"><h1>Part 3: Hickory</h1><p>One thing that all modern JavaScript routers have in common is that they use the<!-- --> <a href="https://developer.mozilla.org/en-US/docs/Web/API/History_API">History API</a> <!-- -->to perform in-app navigation. Curi uses a package called<!-- --> <a href="https://github.com/pshrmn/hickory">Hickory</a>, which will interact with the History API for us.</p><div class="tutorial-outline"><p>In this tutorial, we will be doing the following:</p><ul><li>Learning about the Hickory package and location objects.</li><li>Creating the Hickory history object for our website.</li></ul></div><div class="tutorial-branch"><p>If you are following along using the<!-- --> <a href="https://github.com/pshrmn/curi-tutorial">tutorial repo</a>, please checkout the <code class="language-javascript">03-hickory</code> branch.</p><pre><code class="language-bash">git checkout 03-hickory</code></pre></div><div class="section" id="about"><h2>About Hickory<a class="header-link" href="/tutorial/03-hickory#about">#</a></h2><p>Hickory creates &quot;history&quot; objects that allow you to navigate between locations within your application. It interacts with the browser for you so that when you navigate to a new location, the URI in the address bar is also updated. Hickory also detects and updates when you use the browser&#x27;s forward and back buttons.</p><p>Hickory uses a single-observer model so that whenever navigation to a new location happens, the observer method will be called. Curi will observe your history object to create new responses whenever the location changes.</p></div><div class="section" id="choose"><h2>Choose your own Hickory<a class="header-link" href="/tutorial/03-hickory#choose">#</a></h2><p>Hickory is split into three packages: <code class="language-javascript">@hickory/browser</code>,<!-- --> <code class="language-javascript">@hickory/hash</code>, and <code class="language-javascript">@hickory/in-memory</code>. You can read about the differences between them and figure out which is right for you in this<!-- --> <a href="https://github.com/pshrmn/hickory/blob/master/docs/about/choosing.md">Choosing Your History Type</a> <!-- -->guide.</p><p>We will be using the browser history (<code class="language-javascript">@hickory/browser</code>). This is because 1. our application will run in the browser and 2. our site is backed by a server that can handle dynamic requests.</p></div><div class="section" id="installation"><h2>Installation<a class="header-link" href="/tutorial/03-hickory#installation">#</a></h2><p>If you have following along with these tutorials since the<!-- --> <a href="/tutorial/01-setup">setup tutorial</a>, then you should already have the <code class="language-javascript">@hickory/browser</code> <!-- -->package installed. If not, you should install it now.</p><pre><code class="language-bash">npm install @hickory/browser</code></pre></div><div class="section" id="making-history"><h2>Making History<a class="header-link" href="/tutorial/03-hickory#making-history">#</a></h2><p>In order to use Hickory in our application, we just need to import it and call the imported function. There are a number of configuration options that you can provide, but we don&#x27;t need any of those right now. If you want to learn more about those, please check out the<!-- --> <a href="https://github.com/pshrmn/hickory/tree/master/docs">Hickory documentation</a>.</p><pre><code class="language-javascript">// src/index.js
import Browser from &#x27;@hickory/browser&#x27;;
const history = Browser();</code></pre></div><div class="aside" id="hickory-location"><h2>Location<a class="header-link" href="/tutorial/03-hickory#hickory-location">#</a></h2><p>Hickory (and Curi in turn) use location objects for navigation and route matching. These are simply JavaScript objects with a few properties to identify a location.</p><p>When you load a page, Hickory will parse the URI to generate a location&#x27;s <code class="language-javascript">pathname</code>, <code class="language-javascript">query</code>, and <code class="language-javascript">hash</code> <!-- -->properties. The pathname property of a location is the only thing that<!-- --> <code class="language-javascript">path-to-regexp</code> uses for matching locations.</p><pre><code class="language-javascript">// uri = &#x27;/products/socks?color=black#description&#x27;
{
 pathname: &#x27;/products/socks&#x27;,
 query: &#x27;color=black&#x27;,
 hash: &#x27;description&#x27;,
 key: &#x27;1.0&#x27;,
 rawPathname: &#x27;/products/socks&#x27;
}</code></pre><p>Besides the properties parsed from the URI, locations also have a<!-- --> <code class="language-javascript">key</code> property that can be used to uniquely identify a location, a <code class="language-javascript">rawPathname</code> property (you probably won&#x27;t need this, but it is useful when dealing with pathnames that contain encoded characters), and sometimes <code class="language-javascript">state</code> which is data tied to a location but not part of the URI.</p><p>Hickory actually navigates between locations, not URIs. The only time that Curi/Hickory uses URIs is to set the <code class="language-javascript">href</code> attribute of anchors and to update the string displayed in the address bar (using the History API).</p><p>For now, that will cover all that you need to know about Hickory. For basic usage, you should never have to think about it except for creating your history object.</p></div><div class="section" id="review"><h2>Review<a class="header-link" href="/tutorial/03-hickory#review">#</a></h2><div class="tutorial-branch"><p>You can view the completed source code for this tutorial<!-- --> <a href="https://github.com/pshrmn/curi-tutorial/tree/04-router">on GitHub</a>.</p></div></div><div class="section" id="next"><h2>Next<a class="header-link" href="/tutorial/03-hickory#next">#</a></h2><p>With both our routes and history object, we are now ready for<!-- --> <a href="/tutorial/04-router">Part 4</a>, where we will create the core of Curi, our router.</p></div></div><div class="sidebar"><h2>Tutorials</h2><ul class="link-list"><li class="solo"><a href="/tutorial/01-setup">Part 1: Curi Setup</a></li><li class="solo"><a href="/tutorial/02-routes">Part 2: Curi Routes</a></li><li class="solo"><a class="active" href="/tutorial/03-hickory">Part 3: Hickory</a></li><li class="solo"><a href="/tutorial/04-router">Part 4: The Curi router</a></li><li class="solo"><p>Part 5: Rendering Pages</p><ul class="frameworks"><li><a href="/tutorial/05-pages-react">react</a></li><li><a href="/tutorial/05-pages-vue">vue</a></li></ul></li><li class="solo"><a href="/tutorial/06-loading-data">Part 6: Loading Data</a></li><li class="solo"><p>Part 7: Rendering Data</p><ul class="frameworks"><li><a href="/tutorial/07-render-data-react">react</a></li><li><a href="/tutorial/07-render-data-vue">vue</a></li></ul></li><li class="solo"><p>Part 8: Forms &amp; Programmatic Navigation</p><ul class="frameworks"><li><a href="/tutorial/08-nav-react">react</a></li><li><a href="/tutorial/08-nav-vue">vue</a></li></ul></li><li class="solo"><a href="/tutorial/09-now-what">Part 9: Now What?</a></li></ul></div></div></main></div></div>
    <script src="https://unpkg.com/react@16.0.0/umd/react.production.min.js"></script>
    <script src="https://unpkg.com/react-dom@16.0.0/umd/react-dom.production.min.js"></script>
    <script src="/static/js/prism.js"></script>
    <script src="/static/js/bundle.js"></script>
  </body>
</html>
