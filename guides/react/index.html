<!doctype html>
<html>
  <head>
    <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon">
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>React Basics Guide | Curi Documentation</title>
    <link href="https://fonts.googleapis.com/css?family=Zilla+Slab:300,400" rel="stylesheet">
    <link href="/static/css/index.css" rel="stylesheet">
  </head>
  <body>
    <div id="root"><header><nav><ul><li><a class="home-link " href="/">Curi</a></li><li><a class=" " href="/packages">Packages</a></li><li><a class=" active" href="/guides">Guides</a></li><li><a class=" " href="/tutorial">Tutorials</a></li><li><a class=" " href="/examples">Examples</a></li><li><a href="https://github.com/pshrmn/curi">GitHub</a></li></ul></nav></header><main><div class="guide"><div class="content"><h1>React Basics</h1><pre><code class="language-bash">npm install @curi/react</code></pre><div class="note"><strong>Note:</strong> <!-- -->This guide assumes that you are already familiar with React.</div><p>Curi provides a number of React components through the<!-- --> <a href="/packages/@curi/react/"><code class="language-javascript">@curi/react</code></a> <!-- -->package. To get started, there are only two components that you need to be aware of: <code class="language-jsx">&lt;<!-- -->CuriProvider<!-- -->&gt;</code> and <code class="language-jsx">&lt;<!-- -->Link<!-- -->&gt;</code>.</p><div class="section" id="CuriProvider"><h2><code class="language-jsx">&lt;<!-- -->CuriProvider<!-- -->&gt;</code><a class="header-link" href="/guides/react/#CuriProvider">#</a></h2><p>In order for other components to access router-related variables, we need to make them available through React&#x27;s <code class="language-javascript">context</code>. The<!-- --> <a href="/packages/@curi/react/#CuriProvider"><code class="language-jsx">&lt;<!-- -->CuriProvider<!-- -->&gt;</code></a> <!-- -->component is responsible for doing this. You pass it two props: a Curi<!-- --> <code class="language-javascript">router</code> and a render-invoked <code class="language-javascript">children</code> prop. The<!-- --> <code class="language-javascript">router</code> will listen for new responses to be emitted and call the <code class="language-javascript">children</code> prop to re-render your application.</p><pre><code class="language-jsx">import { CuriProvider } from &#x27;@curi/react&#x27;;

&lt;CuriProvider router={router}&gt;
  {render}
&lt;/CuriProvider&gt;</code></pre><div class="subsection" id="child-fn"><h3><span>The <code class="language-javascript">children</code> prop</span><a class="header-link" href="/guides/react/#child-fn">#</a></h3><p>The <code class="language-javascript">children</code> prop is a render-invoked prop. This means that every time the <code class="language-jsx">&lt;<!-- -->CuriProvider<!-- -->&gt;</code> is rendered, the<!-- --> <code class="language-javascript">children</code> function is called (<code class="language-javascript">this.props.children(...)</code>). The <code class="language-javascript">children</code> function should return the React elements that make up your application.</p><p>The <code class="language-javascript">children</code> function receives an object with three properties to help you render your application: <code class="language-javascript">response</code>,<!-- --> <code class="language-javascript">navigation</code>, and <code class="language-javascript">router</code>. The <code class="language-javascript">response</code> <!-- -->object is the most important of these, while the others may occasionally be useful or you may never use them.</p><p>In our routes, we can attach a <code class="language-javascript">body</code> property to response objects, which we can then use in a <code class="language-javascript">render</code> function.</p><pre><code class="language-javascript">import Home from &#x27;./components/Home&#x27;;

const routes = [
  {
    name: &#x27;Home&#x27;,
    path: &#x27;&#x27;,
    response: () =&gt; {
      return {
        body: Home
      };
    }
  },
  ...
]</code></pre><pre><code class="language-javascript">function render({ response }) {
  const { body:Body } = response;
  return &lt;Body /&gt;;
}</code></pre><div class="note"><strong>Note:</strong> <!-- -->We rename &quot;body&quot; to &quot;Body&quot; so that the JSX is<!-- --> <a href="https://facebook.github.io/react/docs/jsx-in-depth.html#user-defined-components-must-be-capitalized">transformed properly</a>.</div><p>When no routes match, the body property of a response is<!-- --> <code class="language-javascript">undefined</code>. The best way to deal with this is with a catch all route.</p><pre><code class="language-javascript">import NotFound from &#x27;./components/NotFound&#x27;;

const routes = [
  // ...,
  {
    name: &#x27;Not Found&#x27;,
    path: &#x27;(.*)&#x27; // this path matches EVERY pathname
    response: () =&gt; {
      return {
        body: NotFound
      };
    }
  }
];</code></pre><p>Finally, you can pass any props that you want to the <code class="language-jsx">&lt;<!-- -->Body<!-- -->&gt;</code> <!-- -->component. Generally speaking, it is useful to pass the entire<!-- --> <code class="language-javascript">response</code> object. You can review all of the response properties in the<!-- --> <a href="/guides/responses/#response-properties">responses</a> <!-- -->guide.</p><pre><code class="language-javascript">function render({ response }) {
  const { body:Body } = response;
  return &lt;Body response={response} /&gt;;
}</code></pre></div></div><div class="section" id="link"><h2><code class="language-jsx">&lt;<!-- -->Link<!-- -->&gt;</code><a class="header-link" href="/guides/react/#link">#</a></h2><p>A single page application isn&#x27;t very useful if you cannot navigate between locations. The<!-- --> <a href="/packages/@curi/react/#Link"><code class="language-jsx">&lt;<!-- -->Link<!-- -->&gt;</code></a> <!-- -->component provides you with an easy way to do this by rendering anchor (<code class="language-jsx">&lt;<!-- -->a<!-- -->&gt;</code>) elements.</p><pre><code class="language-jsx">import { Link } from &#x27;@curi/react&#x27;
&lt;Link to=&#x27;Home&#x27;&gt;Home&lt;/Link&gt;</code></pre><p>The most important prop of the <code class="language-jsx">&lt;<!-- -->Link<!-- -->&gt;</code> is <code class="language-javascript">to</code>. This value should be the name of the route that you want to navigate to. For instance, take about following route:</p><pre><code class="language-javascript">{
  name: &#x27;About&#x27;,
  path: &#x27;about&#x27;,
  ...
}
</code></pre><p>If you were to render a Link whose to property is <code class="language-javascript">&quot;About&quot;</code>, then it would render an anchor whose <code class="language-javascript">href</code> attribute is<!-- --> <code class="language-javascript">/about</code>. The great thing about this is that you don&#x27;t have to know the URI of the route that you want to navigate to, only its name because Curi handles creating URI pathnames for you.</p><pre><code class="language-jsx">&lt;Link to=&#x27;About&#x27;&gt;About&lt;/Link&gt;
// &lt;a href=&quot;/about&quot;&gt;About&lt;/a&gt;</code></pre><p>That works well enough for simple paths, but what about paths that include params? For that, you need to pass an object using the<!-- --> <code class="language-javascript">params</code> property. This object&#x27;s keys should be the same as the route&#x27;s expected params. The params object should also include the params for any parent routes.</p><pre><code class="language-jsx">{
  name: &#x27;Album&#x27;,
  path: &#x27;a/:albumID&#x27;,
  ...,
  children: [
    {
      name: &#x27;Song&#x27;,
      path: &#x27;:songID&#x27;,
      ...
    }
  ]
}

&lt;Link to=&#x27;Song&#x27; params={{ albumID: 2390, songID: 7 }}&gt;
  Some Song on Some Album
&lt;/Link&gt;
// &lt;a href=&quot;/a/2390/7&gt;Some Song on Some Album&lt;/a&gt;</code></pre><p>If you want to attach additional location information to a Link, you can do so using the property names as props. These would be <code class="language-javascript">query</code>,<!-- --> <code class="language-javascript">hash</code>, and <code class="language-javascript">state</code>.</p><pre><code class="language-jsx">&lt;Link
  to=&#x27;Song&#x27;
  params={{ albumID: 2390, songID: 8 }}
  query={{ time: 17 }}
&gt;
  Some Song on Some Album
&lt;/Link&gt;
// &lt;a href=&quot;/a/2390/8?time=17&gt;Some Song on Some Album&lt;/a&gt;</code></pre><p>The <code class="language-javascript">children</code> prop will be passed as the children of the anchor, the same as if you were to use a regular anchor.</p><div class="subsection" id="why-link"><h3>Why not an anchor?<a class="header-link" href="/guides/react/#why-link">#</a></h3><p>We use a <code class="language-jsx">&lt;<!-- -->Link<!-- -->&gt;</code> because a regular anchor would not work here. Clicking the anchor would cause a full page reload. The<!-- --> <code class="language-jsx">&lt;<!-- -->Link<!-- -->&gt;</code> uses calls the <code class="language-javascript">navigate</code> method from your Hickory history object to allow for in-app navigation without reloading the page.</p><pre><code class="language-jsx">// if you render this, clicking it will reload the page
&lt;a href=&quot;/about&quot;&gt;About&lt;/a&gt;

// while rendering this will not cause a reload
&lt;Link to=&#x27;About&#x27;&gt;About&lt;/Link&gt;
</code></pre><p>Both of the above elements render the same thing to the page, an anchor element, but the &quot;magic&quot; is the Link&#x27;s usage of your history object.</p></div><div class="note"><strong>Note:</strong> <!-- -->This does not cover all of the Link props. Please check out the<!-- --> <a href="/packages/@curi/react/#Link">Link</a> <!-- -->API docs to learn more about the other props.</div></div><p>The above guide should cover what you need to know to get started with using Curi and React. However, there are also more React components that you might find useful. You can read more about them in the<!-- --> <a href="/packages/@curi/react/"><code class="language-javascript">@curi/react</code></a> <!-- -->documentation.</p></div><div class="sidebar"><h2>Guides</h2><ul><li class="link-group"><h3>basic</h3><ul class="link-list"><li class="solo"><a class=" " href="/guides/installation/">Installation</a></li><li class="solo"><a class=" " href="/guides/getting-started/">Getting Started</a></li><li class="solo"><a class=" " href="/guides/sync-or-async/">Sync or Async</a></li><li class="solo"><a class=" " href="/guides/routes/">Routes</a></li><li class="solo"><a class=" " href="/guides/responses/">Responses</a></li><li class="solo"><a class=" " href="/guides/observers/">Observers</a></li><li class="solo"><a class=" " href="/guides/navigation-objects/">Navigation Objects</a></li></ul></li><li class="link-group"><h3>advanced</h3><ul class="link-list"><li class="solo"><a class=" " href="/guides/route-interactions/">Route Interactions</a></li><li class="solo"><a class=" " href="/guides/side-effects/">Side Effects</a></li><li class="solo"><a class=" " href="/guides/code-splitting/">Code Splitting</a></li><li class="solo"><a class=" " href="/guides/loading/">Loading Route Data</a></li><li class="solo"><a class=" active" href="/guides/react/">React Basics</a></li><li class="solo"><a class=" " href="/guides/react-native/">React Native Tips</a></li></ul></li><li class="link-group"><h3>migration</h3><ul class="link-list"><li class="solo"><a class=" " href="/guides/migrate-rrv3/">Migrate from React Router v2/3 to Curi</a></li></ul></li></ul></div></div></main></div>
    <script src="https://unpkg.com/react@16.3.1/umd/react.production.min.js"></script>
    <script src="https://unpkg.com/react-dom@16.3.1/umd/react-dom.production.min.js"></script>
    <script src="/static/js/prism.js"></script>
    <script src="/static/js/bundle.js"></script>
  </body>
</html>
