<!doctype html>
<html>
  <head>
    <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon">
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Response Objects Guide | Curi Documentation</title>
    <link href="https://fonts.googleapis.com/css?family=Zilla+Slab:300,400" rel="stylesheet">
    <link href="/static/css/index.css" rel="stylesheet">
  </head>
  <body>
    <div id="root"><div data-reactroot=""><header><nav><ul><li><a class="home-link" href="/">Curi</a></li><li><a href="/packages">Packages</a></li><li><a href="/tutorial">Tutorial</a></li><li><a class="active" href="/guides">Guides</a></li><li><a href="/examples">Examples</a></li><li><a href="https://github.com/pshrmn/curi">GitHub</a></li></ul></nav></header><main><div class="guide"><div class="content"><h1>Response Objects</h1><p>Response objects are created by the router to descibe the route that matches a location. Some of these properties are set automatically, while others can be configured using the <code class="language-javascript">set</code> functions in a route&#x27;s<!-- --> <code class="language-javascript">match.response</code> method.</p><div class="note"><strong>Note:</strong> <!-- -->You can review the <code class="language-javascript">set</code> functions in the<!-- --> <a href="/guides/routes/#response-set">routes guide</a>.</div><div class="section" id="response-properties"><h2>The Properties of a Response Object<a class="header-link" href="/guides/responses/#response-properties">#</a></h2><pre><code class="language-javascript">{
  // The location key
  key: &#x27;1.0&#x27;,

  // The location object used to generate the response.
  location: { pathname: &#x27;/photos/6789/12345&#x27;, ... },

  // The name of the best matching route
  name: &#x27;Photo&#x27;,

  // The name of ancestor routes that matched
  // part of the location&#x27;s pathname
  partials: [&#x27;Album&#x27;],

  // An object containing the values parsed
  // from the pathname by path-to-regexp.
  // This includes params from ancestor routes.
  params: { photoID: 12345, albumID: 6789 },

  // The status code for the response.
  // This defaults to 200, but is 404 if no routes match.
  // It can also be set with set.status and set.redirect
  // in a route&#x27;s match.response method.
  status: 200,

  // This can be anything you want. It is set using
  // the set.data in a route&#x27;s match.response method.
  // The default value is undefined.
  data: {...},

  // The title string is set by calling set.title in
  // match.response. The default value is an empty string.
  title: &#x27;Photo 12345&#x27;,

  // The value set using set.body. This is where you can attach
  // component(s) to a route. The structure here is up to
  // you, but each of your routes should have the same structure.
  body: Photo,
  // or maybe
  body: {
    menu: PhotoMenu,
    main: Photo
  },
  // Please see below for more information about this property

  // A value set by the match.response&#x27;s set.error function
  error: undefined
}</code></pre><div class="subsection" id="redirect-properties"><h3>Redirect Response<a class="header-link" href="/guides/responses/#redirect-properties">#</a></h3><p>When you call<!-- --> <a href="/guides/routes/#response-set"><code class="language-javascript">set.redirect</code></a> <!-- -->in <code class="language-javascript">match.response</code>, the response will have a<!-- --> <code class="language-javascript">redirectTo</code> property. Curi will automatically trigger a redirect when it sees this.</p><pre><code class="language-javascript">{
  // The redirectTo property provides information on
  // where you should redirect to
  redirectTo: { pathname: &#x27;/login&#x27; }
}</code></pre><p>You can choose whether or not you want redirect responses emitted to response handlers. The default behavior is that they are, but this also means that you have to render using the redirect response. You can pass the <code class="language-javascript">{ emitRedirects: false }</code> option when you create your router to prevent this.</p><pre><code class="language-javascript">const router = curi(history, routes, {
  emitRedirects: false
});</code></pre></div></div><div class="section" id="body-property"><h2>The Body Property<a class="header-link" href="/guides/responses/#body-property">#</a></h2><p>The body property of a response is likely the most important property of a <code class="language-javascript">response</code> because it is what you will actually render. It is the value set by the matched route&#x27;s <code class="language-javascript">match.response</code> function, using<!-- --> <a href="/guides/routes/#response-set"><code class="language-javascript">set.body()</code></a>. This value can be anything you want it to be, but it should usually be a function/component or an object containing functions/components.</p><pre><code class="language-javascript">{
  ...,
  match: {
    response: ({ set }) =&gt; {
      // a function/component
      set.body(Home);
      // an object containing
      // functions/componnets
      set.body({
        menu: HomeMenu,
        body: Home
      });
    }
  }
}</code></pre><div class="note"><strong>Note:</strong> <!-- -->It is important that each route uses the same structure for setting the body. Mixing structures will make renderin more difficult to reason about.</div></div><div><h2>Next</h2><p>Next, we&#x27;ll take a look at another object passed to response handlers:<!-- --> <a href="/guides/navigation-objects/">navigation objects</a> <!-- -->.</p></div></div><div class="sidebar"><h2>Guides</h2><ul><li class="link-group"><h3>basic</h3><ul class="link-list"><li class="solo"><a href="/guides/installation/">Installation</a></li><li class="solo"><a href="/guides/getting-started/">Getting Started</a></li><li class="solo"><a href="/guides/routes/">Routes</a></li><li class="solo"><a href="/guides/response-handlers/">Response Handlers</a></li><li class="solo"><a class="active" href="/guides/responses/">Response Objects</a></li><li class="solo"><a href="/guides/navigation-objects/">Navigation Objects</a></li></ul></li><li class="link-group"><h3>advanced</h3><ul class="link-list"><li class="solo"><a href="/guides/addons/">Using Add-ons</a></li><li class="solo"><a href="/guides/side-effects/">Using Side Effects</a></li><li class="solo"><a href="/guides/response-caching/">Response Caching</a></li><li class="solo"><a href="/guides/code-splitting/">Code Splitting</a></li><li class="solo"><a href="/guides/loading/">Loading Route Data</a></li><li class="solo"><a href="/guides/react/">React Basics</a></li><li class="solo"><a href="/guides/react-native/">React Native Tips</a></li></ul></li><li class="link-group"><h3>migration</h3><ul class="link-list"><li class="solo"><a href="/guides/migrate-rrv3/">Migrate from React Router v2/3 to Curi</a></li></ul></li></ul></div></div></main></div></div>
    <script src="https://unpkg.com/react@16.0.0/umd/react.production.min.js"></script>
    <script src="https://unpkg.com/react-dom@16.0.0/umd/react-dom.production.min.js"></script>
    <script src="/static/js/prism.js"></script>
    <script src="/static/js/bundle.js"></script>
  </body>
</html>
