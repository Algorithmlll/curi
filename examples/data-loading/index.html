<!doctype html>
<html>
  <head>
    <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon">
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Data Loading Example | Curi Documentation</title>
    <link href="https://fonts.googleapis.com/css?family=Zilla+Slab:300,400" rel="stylesheet">
    <link href="/static/css/index.css" rel="stylesheet">
  </head>
  <body>
    <div id="root"><div data-reactroot=""><header><nav><ul><li><a class="home-link" href="/">Curi</a></li><li><a href="/packages">Packages</a></li><li><a href="/tutorial/01-introduction">Tutorial</a></li><li><a href="/guides/getting-started/">Guides</a></li><li><a href="/examples">Examples</a></li><li><a href="https://github.com/pshrmn/curi">GitHub</a></li></ul></nav></header><main><div class="example"><div class="content"><h1>Data Loading</h1><div class="section"><h2 id="explanation">Explanation<a class="header-link" href="/examples/data-loading/#explanation">#</a></h2><p>When a user navigates to one of your routes, the re-rendering will not be triggered until a response has been created. If the route that matches has a <code class="language-javascript">match.every</code> function that has to make a request to the server, the re-render will be delayed, possibly giving the user the impression that nothing is happening. One way that you can attempt to show that something is happening is by adding a loading bar to your page that will demonstrate to the user that their request is going through.</p><p>The <code class="language-javascript">nprogress</code> package allows you to render a loading bar that will run across the top of your page. There are many possible solutions, but this one is very easy to use, so it works well for our example. The basis of what we will do is to tell <code class="language-javascript">nprogress</code> to start when the user clicks a link, and then when we re-render, we tell <code class="language-javascript">nprogress</code> that we are done loading.</p><pre class="language-javascript">// when the user clicks a &lt;Link&gt;
nprogress.start();
// when we are re-rendering
nprogress.done();
</pre><p>The example implementation can definitely be improved. Currently we are calling<!-- --> <code class="language-javascript">nprogress.done()</code> as a side-effect of our render function. This is not ideal, but again, this is just a minimum viable example. In your own application, you could add a response handler or use a Curi side-effect.</p></div><div class="section"><h2 id="demo">Live Demo<a class="header-link" href="/examples/data-loading/#demo">#</a></h2><div class="demo"><iframe src="https://codesandbox.io/embed/github/pshrmn/curi/tree/master/examples/data-loading" width="100%" height="600px" sandbox="allow-modals allow-forms allow-popups allow-scripts allow-same-origin"></iframe><p>Use the three buttons at the top of the Sandbox to toggle view modes. Clicking the menu button in the top left corner opens a menu that allows you to switch between files.</p></div></div><div class="section"><h2 id="source">On GitHub<a class="header-link" href="/examples/data-loading/#source">#</a></h2>If you want to run this code locally, the source code is available on GitHub<!-- --> <a href="https://github.com/pshrmn/curi/tree/master/examples/prefetch-data">here</a>.</div></div><div class="sidebar"><h2>Examples</h2><ul class="link-list"><li class="solo"><a href="/examples/active-links/">Active Links</a></li><li class="solo"><a href="/examples/authentication/">Authentication</a></li><li class="solo"><a href="/examples/basic-vue/">Basic Vue</a></li><li class="solo"><a href="/examples/basic-svelte/">Basic Svelte</a></li><li class="solo"><a href="/examples/blocking-navigation/">Blocking Navigation (React)</a></li><li class="solo"><a href="/examples/blocking-navigation-vue/">Blocking Navigation (Vue)</a></li><li class="solo"><a href="/examples/breadcrumbs/">Breadcrumbs (React)</a></li><li class="solo"><a href="/examples/breadcrumbs-vue/">Breadcrumbs (Vue)</a></li><li class="solo"><a href="/examples/code-splitting/">Code Splitting</a></li><li class="solo"><a class="active" href="/examples/data-loading/">Data Loading</a></li><li class="solo"><a href="/examples/modal/">Modal Routes</a></li><li class="solo"><a href="/examples/redux/">Redux</a></li><li class="solo"><a href="/examples/script-tags/">Script Tags</a></li><li class="solo"><a href="/examples/server-rendering/">Server Rendering</a></li><li class="solo"><a href="/examples/side-effect/">Side Effects</a></li><li class="solo"><a href="/examples/transitions/">Transitions</a></li></ul></div></div></main></div></div>
    <script src="https://unpkg.com/react@16.0.0/umd/react.production.min.js"></script>
    <script src="https://unpkg.com/react-dom@16.0.0/umd/react-dom.production.min.js"></script>
    <script src="/static/js/prism.js"></script>
    <script src="/static/js/bundle.js"></script>
  </body>
</html>
